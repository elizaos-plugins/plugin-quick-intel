{"version":3,"sources":["../src/actions/audit.ts","../src/templates/index.ts","../src/utils/chain-detection.ts","../src/index.ts"],"sourcesContent":["import {\n    Action,\n    ActionExample,\n    Content,\n    HandlerCallback,\n    IAgentRuntime,\n    Memory,\n    ModelClass,\n    State,\n    composeContext,\n    elizaLogger,\n    generateMessageResponse\n} from \"@elizaos/core\";\nimport { auditTemplate } from \"../templates\";\nimport { extractTokenInfo } from \"../utils/chain-detection\";\n\ninterface AuditResponse {\n    tokenDetails?: {\n        tokenName: string;\n        [key: string]: unknown;\n    };\n    [key: string]: unknown;\n}\n\ninterface DexPair {\n    chainId: string;\n    [key: string]: unknown;\n}\n\ninterface DexResponse {\n    pairs?: DexPair[];\n    otherChains?: string[];\n}\nclass TokenAuditAction {\n    private apiKey: string;\n\n    constructor(apiKey: string) {\n        this.apiKey = apiKey;\n    }\n\n    private getGeckoChainId(chain: string): string {\n        // Only include mappings that differ from our standard chain names\n        const geckoSpecificMappings: { [key: string]: string } = {\n            'polygon': 'polygon_pos',\n            'avalanche': 'avax',\n            'gnosis': 'xdai',\n            'arbitrum_nova': 'arbitrum_nova',\n            'polygonzkevm': 'polygon-zkevm',\n            'ethereumpow': 'ethw'\n        };\n\n        const normalizedChain = chain.toLowerCase();\n        \n        // Return specific mapping if it exists, otherwise return the normalized chain\n        return geckoSpecificMappings[normalizedChain] || normalizedChain;\n    }\n\n    async audit(chain: string, tokenAddress: string): Promise<AuditResponse> {\n        elizaLogger.log(\"Auditing token:\", { chain, tokenAddress });\n        const myHeaders = new Headers();\n        myHeaders.append(\"X-QKNTL-KEY\", this.apiKey);\n        myHeaders.append(\"Content-Type\", \"application/json\");\n\n        const requestOptions: RequestInit = {\n            method: \"POST\",\n            headers: myHeaders,\n            body: JSON.stringify({ chain, tokenAddress }),\n            redirect: \"follow\" as RequestRedirect,\n        };\n\n        const response = await fetch(\"https://api.quickintel.io/v1/getquickiauditfull\", requestOptions);\n        if (!response.ok) {\n            throw new Error(`API request failed with status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    private async fetchDexScreenerData(tokenAddress: string, chain: string): Promise<DexResponse | null> {\n        elizaLogger.log(\"Fetching DexScreener data:\", { tokenAddress, chain });\n        const requestOptions: RequestInit = {\n            method: \"GET\",\n            headers: { \"Content-Type\": \"application/json\" },\n        };\n\n        const response = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${tokenAddress}`, requestOptions);\n        if (!response.ok) {\n            return null;\n        }\n\n        const data = await response.json();\n        if (!data?.pairs?.length) {\n            return null;\n        }\n\n        const chainPairs = data.pairs.filter((pair: DexPair) =>\n            pair.chainId.toLowerCase() === chain.toLowerCase() || \n            pair.chainId.toLowerCase().includes(chain.toLowerCase())\n        );\n\n        const otherChains = data.pairs\n            .filter((pair: DexPair) => pair.chainId.toLowerCase() !== chain.toLowerCase())\n            .map((pair: DexPair): string => pair.chainId);\n\n        return {\n            pairs: chainPairs,\n            otherChains: Array.from(new Set(otherChains))\n        };\n    }\n\n    private async fetchGeckoTerminalData(tokenAddress: string, chain: string): Promise<DexResponse | null> {\n        elizaLogger.log(\"Fetching GeckoTerminal data:\", { tokenAddress, chain });\n        \n        // Convert chain to GeckoTerminal format\n        const geckoChain = this.getGeckoChainId(chain);\n        \n        const requestOptions: RequestInit = {\n            method: \"GET\",\n            headers: { \"Content-Type\": \"application/json\" },\n        };\n\n        try {\n            const response = await fetch(\n                `https://api.geckoterminal.com/api/v2/networks/${geckoChain}/tokens/${tokenAddress}/pools?include=included&page=1`, \n                requestOptions\n            );\n            \n            if (!response.ok) {\n                return null;\n            }\n\n            const data = await response.json();\n            if (!data?.data?.length) {\n                return null;\n            }\n\n            // Transform GeckoTerminal data to match DexScreener format\n            const pairs = data.data.map((pool: any) => ({\n                chainId: chain,\n                pairAddress: pool.attributes.address,\n                dexId: pool.relationships.dex.data.id,\n                pairCreatedAt: pool.attributes.pool_created_at,\n                priceUsd: pool.attributes.base_token_price_usd,\n                priceChange: {\n                    h24: pool.attributes.price_change_percentage.h24,\n                    h6: pool.attributes.price_change_percentage.h6,\n                    h1: pool.attributes.price_change_percentage.h1,\n                    m5: pool.attributes.price_change_percentage.m5\n                },\n                liquidity: {\n                    usd: pool.attributes.reserve_in_usd\n                },\n                volume: {\n                    h24: pool.attributes.volume_usd.h24,\n                    h6: pool.attributes.volume_usd.h6,\n                    h1: pool.attributes.volume_usd.h1,\n                    m5: pool.attributes.volume_usd.m5\n                },\n                txns: {\n                    h24: {\n                        buys: pool.attributes.transactions.h24.buys,\n                        sells: pool.attributes.transactions.h24.sells\n                    },\n                    h1: {\n                        buys: pool.attributes.transactions.h1.buys,\n                        sells: pool.attributes.transactions.h1.sells\n                    }\n                },\n                baseToken: {\n                    address: pool.relationships.base_token.data.id.split('_')[1],\n                    name: pool.attributes.name.split(' / ')[0]\n                },\n                quoteToken: {\n                    address: pool.relationships.quote_token.data.id.split('_')[1],\n                    name: pool.attributes.name.split(' / ')[1].split(' ')[0]\n                },\n                fdv: pool.attributes.fdv_usd,\n                marketCap: pool.attributes.market_cap_usd\n            }));\n\n            return {\n                pairs,\n                otherChains: [] // GeckoTerminal API is chain-specific, so no other chains\n            };\n        } catch (error) {\n            elizaLogger.error(\"Error fetching GeckoTerminal data:\", error);\n            return null;\n        }\n    }\n\n    async fetchDexData(tokenAddress: string, chain: string): Promise<DexResponse | null> {\n        elizaLogger.log(\"Fetching DEX data:\", { tokenAddress, chain });\n\n        // Try DexScreener first\n        const dexScreenerData = await this.fetchDexScreenerData(tokenAddress, chain);\n        if (dexScreenerData?.pairs?.length) {\n            return dexScreenerData;\n        }\n\n        // If DexScreener returns no results, try GeckoTerminal\n        const geckoData = await this.fetchGeckoTerminalData(tokenAddress, chain);\n        if (geckoData?.pairs?.length) {\n            return geckoData;\n        }\n\n        // If both APIs return no results, return null\n        return null;\n    }\n}\n\nexport const auditAction: Action = {\n    name: \"AUDIT_TOKEN\",\n    description: \"Perform a security audit on a token using QuickIntel\",\n    similes: [\"SCAN_TOKEN\", \"CHECK_TOKEN\", \"TOKEN_SECURITY\", \"ANALYZE_TOKEN\"],\n    validate: async (runtime: IAgentRuntime) => {\n        const apiKey = runtime.getSetting(\"QUICKINTEL_API_KEY\");\n        return typeof apiKey === \"string\" && apiKey.length > 0;\n    },\n    handler: async (\n        runtime: IAgentRuntime,\n        message: Memory,\n        state: State,\n        _options: { [key: string]: unknown },\n        callback?: HandlerCallback\n    ): Promise<boolean> => {\n        elizaLogger.log(\"Starting QuickIntel audit handler...\");\n\n        try {\n            const apiKey = runtime.getSetting(\"QUICKINTEL_API_KEY\");\n            if (!apiKey) {\n                throw new Error(\"QuickIntel API key not configured\");\n            }\n\n            // Extract chain and address from the message content\n            const messageText = message.content.text;\n            const { chain, tokenAddress } = extractTokenInfo(messageText);\n\n            if (!chain || !tokenAddress) {\n                throw new Error(\"Could not determine chain and token address. Please specify both the chain and token address.\");\n            }\n\n            let dexData = null;\n            \n            // Perform audit\n            elizaLogger.log(\"Performing audit for:\", { chain, tokenAddress });\n            const action = new TokenAuditAction(apiKey);\n            const auditData = await action.audit(chain, tokenAddress);\n\n            if(auditData) {\n                try {\n                    dexData = await action.fetchDexData(tokenAddress, chain);\n                } catch(error) {}\n            }\n\n            const newState = await runtime.composeState(message, {\n                ...state,\n                auditData: JSON.stringify(auditData, null, 2),\n                marketData: auditData?.tokenDetails?.tokenName && dexData ? JSON.stringify(dexData, null, 2) : null,\n            });\n\n\n            // Generate analysis using audit data\n            const context = composeContext({\n                state: newState,\n                template: auditTemplate\n            });\n\n            const responseContent = await generateMessageResponse({\n                runtime,\n                context,\n                modelClass: ModelClass.LARGE\n            });\n\n            if (!responseContent) {\n                throw new Error(\"Failed to generate audit analysis\");\n            }\n\n            //await callback(response);\n            if (callback) {\n                const response = {\n                    text: responseContent.text,\n                    content: {\n                        success: true,\n                        data: auditData,\n                        params: { chain, tokenAddress }\n                    },\n                    action: responseContent.action,\n                    inReplyTo: message.id\n                };\n\n                const memories = await callback(response);\n            }\n\n            return true;\n        } catch (error) {\n            elizaLogger.error(\"Error in AUDIT_TOKEN handler:\", error?.message, error?.error);\n\n            if (callback) {\n                await callback({\n                    text: \"An error occurred while performing the token audit. Please try again later, and ensure the address is correct, and chain is supported.\",\n                    content: { error: \"Internal server error\" },\n                    inReplyTo: message.id\n                });\n            }\n            return false;\n        }\n    },\n    examples: [\n        [\n            {\n                user: \"{{user1}}\",\n                content: {\n                    text: \"Can you check if this token is safe? 0x742d35Cc6634C0532925a3b844Bc454e4438f44e on BSC\",\n                },\n            },\n            {\n                user: \"{{agent}}\",\n                content: {\n                    text: \"I'll analyze this token's security for you.\",\n                    action: \"AUDIT_TOKEN\",\n                },\n            },\n            {\n                user: \"{{agent}}\",\n                content: {\n                    text: \"Here's what I found in the security audit:\\n\\nðŸ”’ Overall Security Status: Medium Risk\\n\\nKey Findings:\\nâœ… Contract is verified\\nâœ… Not a honeypot\\nâš ï¸ Ownership not renounced\\n\\nDetailed Analysis:\\n...\",\n                },\n            },\n        ],\n    ] as ActionExample[][],\n};","import { messageCompletionFooter } from \"@elizaos/core\";\n\nexport const auditTemplate = `Extract and analyze token security information based on the conversation context:\n\n# Task: Generate a response for the character {{agentName}}. DO NOT PROVIDE ANY FOLLOW UP ACTIONS.\nAbout {{agentName}}:\n{{bio}}\n{{lore}}\n\n{{recentMessages}}\n\nFirst, determine the token and chain to audit from the results below:\n\nSecurity Audit Results:\n{{auditData}}\n\nMarket Data Results:\n{{marketData}}\n\n**Analysis Instructions:**\n\n1.  **Data Check:** If {{auditData}} is empty or indicates no security data, respond with a concise message stating there is \"No security data available\". Don't provide any further analysis, links, or market data. You can politely ask the user to double-check the address and chain to help confirm no issues.\n2.  **Analyze User Message:** Review the {{recentMessages}} for any specific questions or areas of focus from the user. Identify keywords such as \"taxes modifiable\", \"liquidity\", \"risk\", \"should I buy/sell\", and other key points from their message. This will help you prioritize the response, while still presenting an overall summary.\n3.  **Financial Advice Disclaimer:** Under no circumstances should you provide financial advice. If the user asks direct questions about buying or selling you must state you are only providing security analysis, and that any financial decisions are solely the responsibility of the user, and you will not be telling the user to buy or sell.\n4.  **Data Discrepancy Check:** Compare the liquidity information provided in {{auditData}} with that from {{marketData}}. If there is a significant discrepancy, note this in the response and explain potential reasons, such as:\n    *   Audit data simulations may not fully reflect real-time conditions.\n    *   Audit tools may not support all DEXs (Decentralized Exchanges).\n    *   Buy or sell problems could cause false positives.\n    *   Real-time data can sometimes be unreliable, or outdated.\n5.  **Slippage Consideration:** When a very low buy/sell tax is detected (e.g., taxes with decimals), state in the response that this *might* be due to slippage during the trades and not necessarily a tax encoded in the contract, but only if relevant.\n6.  **Character Focus & Structure:** Infuse the response with the persona of {{agentName}} using details from {{bio}} and {{lore}}. This includes determining the structure, tone, and overall presentation style. You are free to use the basic data points (risks, findings, liquidity, market, link) in a format that is appropriate for the character. The format should be a natural conversation, and not always a strict list. The user should still be able to determine the risk clearly, and any key findings should still be highlighted, but in a more dynamic format.\n7.  **Security Analysis (if data exists):**\n    *   Provide an overall security assessment using simple language. Use metaphors for easier understanding where appropriate.\n    *   Highlight key security findings, emphasizing any high risks, and any user-related topics.\n    *   Provide key analysis points that are clear and easily understandable, avoiding jargon, with a focus on the user ask if there was one. Ensure if you identified any discrepancies earlier in the text, that these are addressed and elaborated on.\n    *   Address trading parameters and limitations specific to the security data, not just generic warnings if it's not available in the data, with a focus on the user ask if there was one. When discussing taxes, and a low figure, make sure you note it *could* be slippage.\n    *   Explain liquidity information if available and its impact on trading.\n    *   Summarize available market data, keeping it understandable.\n    *   If the data implies any high risk or need for further due diligence, make sure to highlight that, simply, and clearly.\n\n8.  **Quick Intel link** If security data is present, include the following link for further investigation, replacing {{chain}} and {{token}} with the relevant values, and make sure it's well placed within the text:\n    https://app.quickintel.io/scanner?type=token&chain={{chain}}&contractAddress={{token}}\n9.  **No Hypotheticals:** Don't explore hypothetical or \"what if\" scenarios. Stick to the data you are given, and avoid speculation.\n10. **User Friendly:** Format your response as a clear security analysis suitable for users, in an easy-to-understand manner, avoiding overly technical language, ensuring to highlight and focus on any high risk items the user should be aware of as a focul point.\n\n# Instructions: Based on the context above, provide your response, inline with the character {{agentName}}.` + messageCompletionFooter;","const CHAIN_MAPPINGS = {\n    eth: ['eth', 'ethereum', 'ether', 'mainnet'],\n    bsc: ['bsc', 'binance', 'bnb', 'binance smart chain', 'smartchain'],\n    polygon: ['polygon', 'matic', 'poly'],\n    arbitrum: ['arbitrum', 'arb', 'arbitrum one'],\n    avalanche: ['avalanche', 'avax', 'avalanche c-chain'],\n    base: ['base'],\n    optimism: ['optimism', 'op', 'optimistic'],\n    fantom: ['fantom', 'ftm', 'opera'],\n    cronos: ['cronos', 'cro'],\n    gnosis: ['gnosis', 'xdai', 'dai chain'],\n    celo: ['celo'],\n    moonbeam: ['moonbeam', 'glmr'],\n    moonriver: ['moonriver', 'movr'],\n    harmony: ['harmony', 'one'],\n    aurora: ['aurora'],\n    metis: ['metis', 'andromeda'],\n    boba: ['boba'],\n    kcc: ['kcc', 'kucoin'],\n    heco: ['heco', 'huobi'],\n    okex: ['okex', 'okexchain', 'okc'],\n    zkera: ['zkera', 'zksync era', 'era'],\n    zksync: ['zksync', 'zks'],\n    polygonzkevm: ['polygon zkevm', 'zkevm'],\n    linea: ['linea'],\n    mantle: ['mantle'],\n    scroll: ['scroll'],\n    core: ['core', 'core dao'],\n    telos: ['telos'],\n    syscoin: ['syscoin', 'sys'],\n    conflux: ['conflux', 'cfx'],\n    klaytn: ['klaytn', 'klay'],\n    fusion: ['fusion', 'fsn'],\n    canto: ['canto'],\n    nova: ['nova', 'arbitrum nova'],\n    fuse: ['fuse'],\n    evmos: ['evmos'],\n    astar: ['astar'],\n    dogechain: ['dogechain', 'doge'],\n    thundercore: ['thundercore', 'tt'],\n    oasis: ['oasis'],\n    velas: ['velas'],\n    meter: ['meter'],\n    sx: ['sx', 'sx network'],\n    kardiachain: ['kardiachain', 'kai'],\n    wanchain: ['wanchain', 'wan'],\n    gochain: ['gochain'],\n    ethereumpow: ['ethereumpow', 'ethw'],\n    pulse: ['pulsechain', 'pls'],\n    kava: ['kava'],\n    milkomeda: ['milkomeda'],\n    nahmii: ['nahmii'],\n    worldchain: ['worldchain'],\n    ink: ['ink'],\n    soneium: ['soneium'],\n    sonic: ['sonic'],\n    morph: ['morph'],\n    real: ['real','re.al'],\n    mode: ['mode'],\n    zeta: ['zeta'],\n    blast: ['blast'],\n    unichain: ['unichain'],\n    abstract: ['abstract'],\n    step: ['step', 'stepnetwork'],\n    ronin: ['ronin', 'ron'],\n    iotex: ['iotex'],\n    shiden: ['shiden'],\n    elastos: ['elastos', 'ela'],\n    solana: ['solana', 'sol'],\n    tron: ['tron', 'trx'],\n    sui: ['sui']\n} as const;\n\n// Regular expressions for different token address formats\nconst TOKEN_PATTERNS = {\n    evm: /\\b(0x[a-fA-F0-9]{40})\\b/i,\n    solana: /\\b([1-9A-HJ-NP-Za-km-z]{32,44})\\b/i,\n    tron: /\\b(T[1-9A-HJ-NP-Za-km-z]{33})\\b/i,\n    sui: /\\b(0x[a-fA-F0-9]{64})\\b/i\n};\n\nexport interface TokenInfo {\n    chain: string | null;\n    tokenAddress: string | null;\n}\n\nfunction normalizeChainName(chain: string): string | null {\n    const normalizedInput = chain.toLowerCase().trim();\n\n    for (const [standardName, variations] of Object.entries(CHAIN_MAPPINGS)) {\n        if (variations.some((v: string) => normalizedInput.includes(v))) {\n            return standardName;\n        }\n    }\n\n    return normalizedInput;\n}\n\nexport function extractTokenInfo(message: string): TokenInfo {\n    const result: TokenInfo = {\n        chain: null,\n        tokenAddress: null\n    };\n\n    // Clean the message\n    const cleanMessage = message.toLowerCase().trim();\n\n    // Try to find chain name first\n    // 1. Look for chain names after prepositions\n    const prepositionPattern = /(?:on|for|in|at|chain)\\s+([a-zA-Z0-9]+)/i;\n    const prepositionMatch = cleanMessage.match(prepositionPattern);\n\n    // 2. Look for chain names anywhere in the message\n    for (const [chainName, variations] of Object.entries(CHAIN_MAPPINGS)) {\n        if (variations.some((v: string) => cleanMessage.includes(v))) {\n            result.chain = chainName;\n            break;\n        }\n    }\n\n    // If chain wasn't found in mappings but was found through preposition pattern,\n    // use the exact chain name provided\n    if (!result.chain && prepositionMatch?.[1]) {\n        result.chain = normalizeChainName(prepositionMatch[1]);\n    }\n\n    // Find token address using different patterns\n    for (const [chainType, pattern] of Object.entries(TOKEN_PATTERNS)) {\n        const match = message.match(pattern);\n        if (match?.[1]) {\n            result.tokenAddress = match[1];\n\n            // If we haven't found a chain yet and it's a Solana address, set chain to Solana\n            if (!result.chain && chainType === 'solana' && match[1].length >= 32) {\n                result.chain = 'solana';\n            }\n            break;\n        }\n    }\n\n    // If we still don't have a chain but have an EVM address, default to ethereum\n    if (!result.chain && result.tokenAddress?.startsWith('0x')) {\n        result.chain = 'eth';\n    }\n\n    return result;\n}","import { Plugin } from \"@elizaos/core\";\nimport { auditAction } from \"./actions/audit\";\n\nexport const quickIntelPlugin: Plugin = {\n    name: \"Quick Intel\",\n    description: \"QuickIntel Plugin for Eliza - Enables token security analysis\",\n    actions: [auditAction],\n    providers: [],\n    evaluators: [],\n    services: []\n};\n\nexport default quickIntelPlugin;"],"mappings":"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","names":[]}